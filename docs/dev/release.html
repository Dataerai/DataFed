

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Release Notes &mdash; DataFed 1.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Feature Road Map" href="roadmap.html" />
    <link rel="prev" title="Architecture &amp; Design" href="design.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DataFed
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About DataFed</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../system/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/overview.html">System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/usecases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/papers.html">Papers and Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system/getting_started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Portal</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/web/portal.html">Web Portal Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Client Package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/client/install.html">Installation and Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Command Line Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/cli/guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/cli/reference.html">Command Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Python Interface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/python/high_level_guide.html">Guide to High Level Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/python/notebooks.html">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin/general.html">Administration</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project.html">Project Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Architecture &amp; Design</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#may-28-2021">1.2.0-4, May 28, 2021</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#impacts-to-existing-features">Impacts to Existing Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enhancements-and-bug-fixes">Enhancements and Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Feature Road Map</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataFed</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-notes">
<h1>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="may-28-2021">
<h2>1.2.0-4, May 28, 2021<a class="headerlink" href="#may-28-2021" title="Permalink to this headline">¶</a></h2>
<p>The DataFed 1.2.0-4 release is a minor release consisting of many bug fixes and two significant
new features: metadata schema support and external raw data references. This update impacted
all components of DataFed including the Web Portal and the Python client/API package. The updated
DataFed Python package is available from PyPi at <a class="reference external" href="https://pypi.org/project/datafed/">https://pypi.org/project/datafed/</a>. Although
the Python client/API was changed, existing DataFed scripts should continue to function normally
after the DataFed Python package is updated to version 1.2.0-4.</p>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>External Raw Data References: This feature allows DataFed records to be created with references to
unmanaged raw data hosted by an external Globus endpoint. When creating a record (from either the
web portal or the CLI/API), an “external data” option is provided that will cause DataFed to treat
the associated raw data source as a stable external reference. Data records created with this option
can be used normally, with the exception that data cannot be uploaded to these records. Also, when
downloading external raw data, the user must ensure that both the destination endpoint and the
endpoint storing the raw data are activated.</p></li>
<li><p>Metadata Schemas: This feature adds the ability for users to define and apply metadata schemas to
data records and to utilize metadata schemas for advanced searches across collections of data
and collections. Metadata schemas follow a modified form of the JSON Schema Specification, at
<a class="reference external" href="https://json-schema.org/">https://json-schema.org/</a>. If the metadata of a record does not conform the associated
schema, the record is flagged as non-compliant and errors may be viewed in the records metadata tab
in the Web Portal. The CLI/API also provides an option to reject records with non-compliant metadata.</p></li>
</ul>
</div>
<div class="section" id="impacts-to-existing-features">
<h3>Impacts to Existing Features<a class="headerlink" href="#impacts-to-existing-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The “Search” tab in the footer area of the Web Portal has been removed and replaced by a toggleable
search side-bar with more search options (similar to the search side-bar for the catalog). The
visibility of the search side-bar can be toggled using the magnifying glass icon in the toolbar of
the data browser (aka “My Data”).</p></li>
<li><p>The implementation of data/collection search was dramatically overhauled for more capabilities and
better performance; however, it is not longer possible to search over multiple scopes at once (i.e.
multiple projects, or data shared from multiple users). This catalog search implementation was not
changed significantly.</p></li>
<li><p>Existing “Saved Queries” will no longer work and must be deleted and re-created. This is due to
a fundamental change in how data/collections queries are structured and executed.</p></li>
</ul>
</div>
<div class="section" id="enhancements-and-bug-fixes">
<h3>Enhancements and Bug Fixes<a class="headerlink" href="#enhancements-and-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#760 Core - Client UID is being set wrong from CLI/Python API</p></li>
<li><p>#759 Need to simplify search scope/owner parameters</p></li>
<li><p>#758 CLI - Project view command lists admins twice</p></li>
<li><p>#757 CLI - Add documentation to ‘ls’ and ‘wc’ commands for path options</p></li>
<li><p>#756 CLI - Query run command incomplete/out-dated</p></li>
<li><p>#755 CLI - Query create incomplete/out-of-date</p></li>
<li><p>#754 CLI - Query Update command incomplete/out-dated</p></li>
<li><p>#753 CLI - Query view does not work</p></li>
<li><p>#752 Updating saved query does not replace selection</p></li>
<li><p>#751 CLI - Add dependent doesn’t work</p></li>
<li><p>#749 ACLs are being mishandled when record ownership is changed</p></li>
<li><p>#745 Project listing does not page</p></li>
<li><p>#744 Reset page offset when search parameters are changed</p></li>
<li><p>#742 AQL array functions not recognized by query parser</p></li>
<li><p>#741 Catalog is missing owner search field</p></li>
<li><p>#739 CLI - Data view and create/update replies do not display schema ID or metadata errors</p></li>
<li><p>#738 CLI - Invalid reference to “external”</p></li>
<li><p>#737 Database fails on POST without body</p></li>
<li><p>#736 Web - Metadata search reset does not clear schema</p></li>
<li><p>#735 Web - Search panel selection background missing in light theme</p></li>
<li><p>#733 Download encryption available check doesn’t work for external data</p></li>
<li><p>#731 Web - Remove border from annotation list</p></li>
<li><p>#730 When metadata error is present, info panel notes tab is always enabled</p></li>
<li><p>#729 Closing parent annotation cause multiple issues on derived record</p></li>
<li><p>#727 Web - Select category dialog fails to load topics</p></li>
<li><p>#726 Web - Annotating record with meta error hides error icon</p></li>
<li><p>#725 Web - Using query builder does not trigger query</p></li>
<li><p>#723 Query builder error highlight color too dark on light theme</p></li>
<li><p>#722 Catalog metadata fields not working</p></li>
<li><p>#721 Core - negative regular expression in query causes AQL exception</p></li>
<li><p>#720 Web - Query builder generates invalid expressions</p></li>
<li><p>#713 Closed annotation bit mask conflicts with metadata error bit</p></li>
<li><p>#712 Web - Upload did not start after records create with raw data source</p></li>
<li><p>#711 Download of external data always uses original name</p></li>
<li><p>#709 DataFed is reporting transfer complete before it actually is complete</p></li>
<li><p>#708 Globus checksum failure not being caught and reported by DataFed</p></li>
<li><p>#707 Deleting collection always deletes records with external data</p></li>
<li><p>#700 Schema revision shows usage references</p></li>
<li><p>#698 Web - Rework search or tree selection, drag &amp; drop for search mode</p></li>
<li><p>#696 Schema ref count out of sync</p></li>
<li><p>#695 Support saving searches with schema support</p></li>
<li><p>#694 Web - Dragging search result to folder cause an invalid page load</p></li>
<li><p>#693 Web - Enter in tag input should trigger search</p></li>
<li><p>#691 Core - Empty and un-tracked files were created but not deleted</p></li>
<li><p>#690 Web - Folder page does not reset on close/reopen</p></li>
<li><p>#687 Data transfer allowed encryption to be set to required, but one endpoint did not support it</p></li>
<li><p>#683 DB - Remove need for location edges on data records with external raw data</p></li>
<li><p>#681 Web - Paging does not work in catalog view</p></li>
<li><p>#680 Web - Paging breaks for published collections</p></li>
<li><p>#677 Web - Collection selected when expanded in search mode</p></li>
<li><p>#675 Web - Defer catalog view load until tab activated</p></li>
<li><p>#674 Add creator field to Collections</p></li>
<li><p>#673 Add creator to data search</p></li>
<li><p>#672 Data search returns duplicate results</p></li>
<li><p>#671 Multiple allocations created for same project</p></li>
<li><p>#670 Data search of project data bypasses access controls</p></li>
<li><p>#668 Move all non-trivial messages from anon to auth</p></li>
<li><p>#667 Short aliases are not recognized</p></li>
<li><p>#666 Schema: Get rid of separate schema version</p></li>
<li><p>#664 Schema: metadata errors are not cleared under all conditions</p></li>
<li><p>#660 Schema: Add metadata validation error search option</p></li>
<li><p>#659 Schema: Add option to CLI to fail data create/update with metadata validation errors</p></li>
<li><p>#657 Schema: Dependencies of an in-use schema shall not be editable or deletable</p></li>
<li><p>#656 Schema: Support external schema references to local definitions</p></li>
<li><p>#652 Schema: Support metadata schemas</p></li>
<li><p>#647 Web - Need scroll bars on user list in repo admin dialog</p></li>
<li><p>#643 System - Record dependency updates are not checked by any permission</p></li>
<li><p>#605 Data Refs: Allow linking to external raw data via URI/path</p></li>
<li><p>#602 DB - Reduce task logging</p></li>
<li><p>#596 Search: Improve Data Search Interface</p></li>
<li><p>#570 Schema: Support multiple types in JSON Schema</p></li>
<li><p>#569 Schema: Need to handle “$defs” in schema validation/query-builder</p></li>
<li><p>#564 Schema: Need to support arrays in schema validation</p></li>
<li><p>#563 Schema: Add schema circular reference detection in validation</p></li>
<li><p>#220 System - Collection aliases in search scopes are not resolved</p></li>
<li><p>#33 Schema: User definition and management of metadata schemas</p></li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The metadata validator uses strict JSON parsing rules and does not accept floating point numbers
with an absolute value between 0 and 1 without a leading zero (i.e. requires 0.25 instead of .25)</p></li>
<li><p>When editing save queries, the original search selection is not loaded/displayed and must be re-
entered before updating the query.</p></li>
<li><p>The graphical query editor does not currently support parsing metadata expressions typed into the
metadata search field and will show a blank query when opened.</p></li>
<li><p>If a saved query contains a specific collection to search, and that collection is later deleted, the
saved query will report an error message when run.</p></li>
<li><p>Drag and drop is support for collections in the data browser; however, projects, users, and the
personal data catagories cannot be dragged to the selection input.</p></li>
<li><p>Paging of query results and changing sort options for saved queries is not yet supported.</p></li>
<li><p>Schema management functions are not available from the CLI.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="roadmap.html" class="btn btn-neutral float-right" title="Feature Road Map" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="design.html" class="btn btn-neutral float-left" title="Architecture &amp; Design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Oak Ridge National Laboratories.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>