:mod:`datafed.CommandLib`
=========================

.. py:module:: datafed.CommandLib


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   datafed.CommandLib.API



.. py:class:: API(opts={})

   A high-level messaging interface to the DataFed core server

   The DataFed CommandLib.API class provides a high-level interface
   for sending requests to a DataFed server. Requests are sent via python
   class methods and replies are (currently) returned as Google Protobuf message objects.
   These reply messages are defined in the \*.proto files included in the
   DataFed client package. Basic functionality of th API class mirrors the
   capabilities exposed in the DataFed CLI.

   The Config class is used to load configuration settings, but settings
   (all or some) may also be supplied as an argument to the constructor.
   On success, a secure connection is established to the configured DataFed
   core server. If user credentials are installed, the associated user
   will be authenticated; otherwise an anonymous connection will be
   created. Use the getAuthUser() method to check is authentication is
   required after constructing an API instance.

   Parameters
   ----------
   opts : dict, Optional
       Configuration options

   Attributes
   ----------
   _max_md_size : int.
       Maximum size of metadata in bytes.
       Currently set to 102400
   _max_payload_size : int
       Maximum limit for the amount of data that can be sent in a single batch
       create request.
       Currently set to 1048576

   Raises
   ------
   Exception : if invalid config values are present

   .. attribute:: _max_md_size
      :annotation: = 102400

      

   .. attribute:: _max_payload_size
      :annotation: = 1048576

      

   .. attribute:: _endpoint_legacy
      

      

   .. attribute:: _endpoint_uuid
      

      

   .. method:: getAuthUser(self)

      Get current authenticated user, if any.

      Returns current user ID If current connection is authenticated,
      otherwise returns None.

      Returns
      -------
      str :
          Authenticated user ID or None if not authenticated


   .. method:: logout(self)

      Logout current client, if any.

      If connected, logs-out by reseting underlying connection and clearing
      current user.

      Returns
      -------
      None


   .. method:: loginByPassword(self, uid, password)

      Manually authenticate client by user id and password

      If not authenticated, this method attempts manual authentication
      using the supplied DataFed user ID and password.

      Parameters
      ----------
      uid : str
          DataFed user ID
      password : str
          DataFed password

      Returns
      -------
      None

      Raises
      ------
      Exception : if authentication fails.


   .. method:: generateCredentials(self)

      Generate/download local user credentials

      Requests the DataFed server to generate and send local credentials for
      the current user. These credentials should be saved/loaded from a
      set of public/private client keys files as specified via the Config
      module.

      Returns
      -------
      msg: Google protobuf message

      Raises
      ------
      Exception: On communication or server error


   .. method:: dataView(self, data_id, details=False, context=None)

      View a data record

      Retrieves all metadata associated with record with metadata (without
      raw data).

      Parameters
      ----------
      data_id : str
          Data record ID or alias
      details : str, Optional. Default = False
          NOT USED
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: dataCreate(self, title, alias=None, description=None, tags=None, extension=None, metadata=None, metadata_file=None, parent_id='root', deps=None, repo_id=None, context=None)

      Create a new data record

      Create a new data record. May specify alias, containing collection,
      metadata, dependencies, and allocation. Raw data must be uploaded
      separately. Cannot use both metadata and metadata_file options.

      Parameters
      ----------
      title : str
          Title of record
      alias : str, Optional. Default = None
          Alias of record
      description : str, Optional. Default = None
          Text description of record
      tags : list of str, Optional. Default = None
          Tags that describe the record
      extension : str, Optional. Default = None
          Extension for raw data file to use / override
      metadata : JSON string, Optional. Default = None
          Domain-specific metadata described in dictionary form.
          This dictionary can be nested.
      metadata_file : str, Optional. Default = None
          Path to local JSON file containing domain-specific metadata
      parent_id : str, Optional. Default = "root"
          ID/alias of collection within which to create this record.
          By default, the record will be created in the user's root collection
      deps : list, Optional. Default = None
          Dependencies of this data record specified as an array of
          lists as [ [relation type <str>,  record ID <str>], [], [] ... ].
          Relation types currently supported are:
          * "der" - Is derived from
          * "comp" - Is comprised of
          * "ver" - Is new version of
      repo_id : str, Optional. Default = None
          ID of data repository to create this record in.
          By default, the default repository will be chosen.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: dataUpdate(self, data_id, title=None, alias=None, description=None, tags=None, extension=None, metadata=None, metadata_file=None, metadata_set=False, deps_add=None, deps_rem=None, context=None)

      Update an existing data record

      Update an existing data record. May specify title, alias, metadata,
      dependencies, and allocation. Raw data must be uploaded separately.
      Cannot use both metadata and metadata_file options.

      Parameters
      ----------
      data_id : str
          Data record ID or alias
      title : str
          Title of record
      alias : str, Optional. Default = None
          Alias of record
      description : str, Optional. Default = None
          Text description of record
      tags : list of str, Optional. Default = None
          Tags that describe the record
      extension : str, Optional. Default = None
          Extension for raw data file to use / override
      metadata : JSON string, Optional. Default = None
          Domain-specific metadata described in dictionary form.
          This dictionary can be nested.
      metadata_file : str, Optional. Default = None
          Path to local JSON file containing domain-specific metadata
      metadata_set : bool, Optional. Default = False
          Set to True to replace existing metadata with provided.
          Otherwise, and by default, provided metadata will be merged with
          existing metadata.
      deps_add : list, Optional. Default = None
          Dependencies of this data record to add, specified as an array of
          lists as [ [relation type <str>,  record ID <str>], [], [] ... ].
          Relation types currently supported are:
          * "der" - Is derived from
          * "comp" - Is comprised of
          * "ver" - Is new version of
      deps_rem : list, Optional. Default = None
          Dependencies of this data record to remove, specified as an array of
          lists as [ [relation type <str>,  record ID <str>], [], [] ... ].
          Relation types currently supported are:
          * "der" - Is derived from
          * "comp" - Is comprised of
          * "ver" - Is new version of
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: dataDelete(self, data_id, context=None)

      Deletes onr or more data records and associated raw data.

      Parameters
      ----------
      data_id : str
          Data record ID or alias
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error


   .. method:: dataGet(self, item_id, path, encrypt=sdms.ENCRYPT_AVAIL, orig_fname=False, wait=False, timeout_sec=0, progress_bar=None, context=None)

      Get (download) raw data for one or more data records and/or collections

      This method downloads to the specified path the raw data associated with
      a specified data record, or the records contained in a collection, or
      with a list of records and/or collections. The download may involve
      either a Globus transfer, or an HTTP transfer. The path may be a full
      globus path (only works for Globus transfers), or a full or relative
      local file system path (will prepend the default endpoint for Globus
      transfers).

      Parameters
      ----------
      item_id : str or list or str
          Data record or collection ID/alias, or a list of IDs/aliases
      path : str
          Globus or local file system destination path
      encrypt :
          Encrypt mode (none, if avail, force)
      orig_fname : bool, Optional. Default = False
          If set to True, the file(s) contained in the record(s) will be
          downloaded with their original name(s).
          Otherwise, and by default, the files will be named according to
          their unique record ID followed by the original or overriden
          extension.
      wait : bool, Optional. Default = False
          Set to true to wait until the file transfer is complete.
          Otherwise, and by default, the transfer will take place in the
          background / asynchronously
      timeout_sec : int, Optional. Default = 0
          Timeout in seconds for polling the status of the Globus transfer.
          By default, there is no timeout.
      progress_bar : callable, Optional. Default = None
          A progress bar class to display progress for HTTP download.
          This kwarg is passed on as the ``bar`` kwarg of wget.download().
          By default, wget will use dots to display progress.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : XfrDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error.
      Exception : If both Globus and HTTP transfers are required


   .. method:: dataPut(self, data_id, path, encrypt=sdms.ENCRYPT_AVAIL, wait=False, timeout_sec=0, extension=None, context=None)

      Put (upload) raw data for a data record

      This method uploads raw data from the specified path to the specified
      data record. The upload involves a Globus transfer, and the path may be
      a full globus path, or a full or relative local file system path (the
      current endpoint will be prepended).

      Parameters
      ----------
      data_id : str
          Data record ID or alias
      path : str
          Globus or local file system path to source file
      encrypt :
          Encrypt mode (none, if avail, force)
      wait : bool, Optional. Default = False
          Set to true to wait until the file transfer is complete.
          Otherwise, and by default, the transfer will take place in the
          background / asynchronously
      timeout_sec : int, Optional. Default = 0
          Timeout in seconds for polling the status of the Globus transfer.
          By default, there is no timeout.
      extension : str, Optional. Default = None
          Override extension of source file.
          By default, the extension is detected automatically.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : XfrDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error.


   .. method:: dataBatchCreate(self, file, coll_id=None, context=None)

      Batch create data records

      Create one or more data records from JSON source files that specify all
      metadata for the record. The source files may contain an individual JSON
      object, or an array of JSON objects. There is a maximum limit to the
      amount of data that can be sent in a single batch create request (see
      ``_max_payload_size`` attribute).

      Parameters
      ----------
      file : list or tuple
          An array of (JSON) filenames to process
      coll_id : str, Optional. Default = None
          Parent collection ID/alias . Replaces parent field in JSON.
          By default, the parent field in the JSON file will be used.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error


   .. method:: dataBatchUpdate(self, file)

      Batch update data records

      Update one or more data records from JSON source files that specify all
      updated metadata for the record. The source files may contain an
      individual JSON object, or an array of JSON objects. There is a maximum
      limit to the amount of data that can be sent in a single batch create
      request (see _max_payload_size).

      Parameters
      ----------
      file : list or tuple
          An array of filenames on local file system to process

      Returns
      -------
      msg : RecordDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error


   .. method:: collectionView(self, coll_id, context=None)

      View collection information

      View alias, title, and description of a collection

      Parameters
      ----------
      coll_id : str
          ID/alias of Collection to view
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : CollDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On invalid options or communication / server error.


   .. method:: collectionCreate(self, title, alias=None, description=None, tags=None, topic=None, parent_id=None, context=None)

      Create a new collection

      Create a new collection with title, alias, and description. Note that if
      topic is provided, the collection and contents become publicly readable
      and will be presented in DataFed catalog browser.

      Parameters
      ----------
      title : str
          Title of collection
      alias : str, Optional. Default = None
          Alias of collection
      description : str, Optional. Default = None
          Text description of collection
      tags : list of str, Optional. Default = None
          Tags that describe the collection
      topic : str
          Scientific topics under which this collection is organized
          in the catalog view.
          If topic is added, the collection and contents become **publicly**
          readable and will be presented in DataFed catalog browser.
      parent_id : str, Optional. Default = "root"
          ID/alias of collection within which to create this collection.
          By default, the collection will be created in the user's root
          collection
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : CollDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: collectionUpdate(self, coll_id, title=None, alias=None, description=None, tags=None, topic=None, context=None)

      Update an existing collection with title, alias, and description.

      Note
      that if topic is added, the collection and contents become publicly
      readable and will be presented in DataFed catalog browser.

      Parameters
      ----------
      coll_id : str
         ID/alias of the collection
      title : str, Optional. Default = None
          Title of collection
      alias : str, Optional. Default = None
          Alias of collection
      description : str, Optional. Default = None
          Text description of collection
      tags : list of str, Optional. Default = None
          Tags that describe the collection
      topic : str
          Scientific topics under which this collection is organized
          in the catalog view.
          If topic is added, the collection and contents become **publicly**
          readable and will be presented in DataFed catalog browser.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : CollDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: collectionDelete(self, coll_id, context=None)

      Delete one or more existing collections

      Deletes one or more collections and contained items. When a collection is
      deleted, all contained collections are also deleted. However, contained
      data records are only deleted if they are not linked to another
      collection not involved in the deletion.

      Parameters
      ----------
      coll_id : str, or list of str
         ID/alias OR list of IDs/aliases of the collection(s) to be deleted
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      msg : AckReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: collectionItemsList(self, coll_id, offset=0, count=20, context=None)

      List items in collection

      List items linked to or contained in the specified collection.

      Parameters
      ----------
      coll_id : str
         ID/alias of the collection
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: collectionItemsUpdate(self, coll_id, add_ids=None, rem_ids=None, context=None)

      Update (add/remove) items linked to a specified collection

      Note that data
      records may be linked to any number of collections, but collections can
      only be linked to one parent collection. If a collection is added to a
      new parent collection, it is automatically unlinked from it's current
      parent. An ancestor (parent, grandparent, etc) collection cannot be
      linked to a descendant collection.

      Items removed from a collection that have no other parent collections
      are automatically re-linked to the root collection. The return reply
      of this method contains any such re-linked items.

      Parameters
      ----------
      coll_id : str
         ID/alias of the collection
      add_ids : str or list of str, Optional. Default = None
          ID/alias of record(s) and/or collection(s) to add
      rem_ids : str or list of str, Optional. Default = None
          ID/alias of record(s) and/or collection(s) to remove
      context

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: collectionGetParents(self, coll_id, inclusive=False, context=None)

      Get parents of specified collection up to the root collection

      Parameters
      ----------
      coll_id : str
         ID/alias of the collection
      inclusive : bool, Optional. Default = False
          Set to True to include starting collection.
          Otherwise, and by default, starting collection is ignored.
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      CollPathReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: queryList(self, offset=0, count=20)

      List saved queries

      Parameters
      ----------
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: queryView(self, query_id)

      View a saved query

      Parameters
      ----------
      query_id : str
          ID of saved query to view

      Returns
      -------
      QueryDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error


   .. method:: queryCreate(self, title, id=None, text=None, meta=None, no_default=None, coll=None, proj=None)

      Create a new saved query

      Default scope for the search includes owned data and all data
      associated with owned and managed projects, as well as member projects.

      Parameters
      ----------
      title : str
          Title of query
      id : str, Optional. Default = None
          ID/alias for query. Automatically assigned by default.
      text : str, Optional. Default = None
          Description of query
      meta : str, Optional. Default = None
          Query expression
      no_default : bool, Optional. Default = None
          Omit default scopes if True
      coll : str, Optional. Default = None
          ID(s) or alias(es) of collection(s) to add to scope
      proj : str, Optional. Default = None
          ID(s) or alias(es) of project(s) to add to scope

      Returns
      -------
      QueryDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: queryUpdate(self, query_id, title=None, id=None, text=None, meta=None)

      Update an existing saved query

      Things like the title, and the query expression can be modified.
      However, the scope may not be changed

      Parameters
      ----------
      query_id : str
          ID/alias for query.
      title : str, Optional. Default = None
          Title  of query
      id : str, Optional. Default = None
          ID/alias query
      text : str, Optional. Default = None
          Description of query
      meta : str, Optional. Default = None
          Query expression

      Returns
      -------
      QueryDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: queryDelete(self, query_id)

      Delete a saved query.

      Parameters
      ----------
      query_id : str
          ID/alias for query.

      Returns
      -------
      AckReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error


   .. method:: queryExec(self, query_id, offset=0, count=20)

      Execute a stored query and return matches.

      Parameters
      ----------
      query_id : str
          ID/alias for query.
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: queryDirect(self, id=None, text=None, meta=None, no_default=None, coll=None, proj=None, offset=0, count=20)

      Directly run a manually entered query and return matches

      Parameters
      ----------
      id : str
          ID/alias query text
      text : str, Optional. Default = None
          Description of query
      meta : str, Optional. Default = None
          Query expression
      no_default : bool, Optional. Default = None
          Omit default scopes if True
      coll : str, Optional. Default = None
          ID(s) or alias(es) of collection(s) to add to scope
      proj : str, Optional. Default = None
          ID(s) or alias(es) of project(s) to add to scope
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: userListCollaborators(self, offset=0, count=20)

      List collaborators. Collaborators are defined as users that have projects
      in common with the current user, or that have data-sharing relationships
      with the current user.

      Parameters
      ----------
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      UserDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: userListAll(self, offset=0, count=20)

      List all users

      Parameters
      ----------
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      UserDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: userView(self, uid)

      View user information

      Parameters
      ----------
      uid : str
          ID of user to view

      Returns
      -------
      UserDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: projectList(self, owned=True, admin=True, member=True, offset=0, count=20)

      List projects associated with current user

      List projects that are owned or managed by the current user, as well as
      projects were the current user is a member.

      Parameters
      ----------
      owned : bool, optional. Default = True
          If True, includes owned projects. Otherwise, only includes projects
          owned by others that this user is part of.
      admin : bool, optional. Default = True
          If True, includes projects managed by this user. Otherwise, only
          includes projects managed by others that this user is part of.
      member : bool, optional. Default = True
          If True, includes projects where the current user is a member.
          Otherwise, does not list such projects.
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: projectView(self, project_id)

      View project information (title, description, owner, etc.)

      Parameters
      ----------
      project_id : str
          ID of project to view

      Returns
      -------
      ProjectDataReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: projectGetRole(self, project_id)

      Get the role that this user plays in a given project

      Parameters
      ----------
      project_id : str
          ID of project to view

      Returns
      -------
      Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: sharesListOwners(self, inc_users=None, inc_projects=None, subject=None)

      List users and/or that have shared data with client/subject.

      Parameters
      ----------
      inc_users : list of str, Optional. Default
          Include a list of specified users
      inc_projects : list of str, Optional. Default
          Include a list of specified projects
      subject : list of str, Optional. Default
          Include a list of specified subjects

      Returns
      -------
      ListingReply Google protobuf message

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: sharesListItems(self, owner_id, context=None, offset=None, count=None)

      List shared data records and collections by user/project ID

      Parameters
      ----------
      owner_id : str
          User or project ID
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.
      offset : int, Optional. Default = 0
          Offset of listing results for paging
      count : int, Optional. Default = 20
          Number (limit) of listing results for (cleaner) paging

      Returns
      -------
      ListingReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: taskList(self, time_from=None, time_to=None, since=None, status=None, offset=0, count=20)

      List recent Globus data transfer tasks

      If no time or status filter options are provided, all Globus transfers
      initiated by the current user are listed, arranged by
      most recent first. Note that the DataFed server periodically purges
      transfer history such that only up to 30 days of history are retained.

      Parameters
      ----------
      time_from : str, Optional. Default = None
          Start date/time for listing specified as M/D/YYYY[,HH:MM]
      time_to : str, Optional. Default = None
          End date/time for listing specified as M/D/YYYY[,HH:MM]
      since: str, Optional. Default = None
          List from specified time string (second default, suffix
          h = hours, d = days, w = weeks)
      status : list of str and/or int. Default = None
      offset : int, Optional. Default = 0
          Offset of matching results for paging
      count : int, Optional. Default = 20
          Number (limit) of matching results for (cleaner) paging

      Returns
      -------
      XfrDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: taskView(self, task_id=None)

      View information regarding a (Globus data transfer) task


      Parameters
      ----------
      task_id : str, Optional. Default = None
          Task ID to view.
          If specified, information regarding the requested task is returned.
          Otherwise and by default, information regarding the latest task
          initiated by the current user is returned.

      Returns
      -------
      TaskDataReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: endpointListRecent(self)

      List recently used Globus endpoints

      Returns
      -------
      UserGetRecentEPReply Google protobuf message
          Response from DataFed

      Raises
      ------
      Exception : On communication or server error


   .. method:: endpointDefaultGet(self)

      Get configured default endpoint

      Returns
      -------
      str
          default endpoint string, or None if not configured


   .. method:: endpointDefaultSet(self, endpoint)

      Set the default Globus endpoint (used to set initial current endpoint)

      Parameters
      ----------
      endpoint : str
          New default endpoint


   .. method:: endpointGet(self)

      Get current Globus endpoint

      Returns
      -------
      str
          current endpoint string, or None if not set


   .. method:: endpointSet(self, endpoint)

      Set current Globus endpoint (added to partial get/put paths)

      Parameters
      ----------
      endpoint : str
          New current Globus endpoint


   .. method:: setupCredentials(self)

      Setup local credentials

      This command installs DataFed credentials for the current user in the
      configured client configuration directory. Subsequent use of the
      DataFed API will read these credentials instead of requiring manual
      authentication.

      Returns
      -------
      None

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: setContext(self, item_id=None)

      Set current context which is used to resolve relative aliases

      Parameters
      ----------
      item_id : str, optional. Default = None
          A user or project ID. By default, this user's ID will be used as
          the context

      Returns
      -------
      None

      Raises
      ------
      Exception : On communication or server error
      Exception : On invalid options


   .. method:: getContext(self)

      Gets the current context which is used to resolve relative aliases

      Returns
      -------
      str
          The current user or project ID context string


   .. method:: timestampToStr(self, ts)

      Convert timestamp into standard string format

      Parameters
      ----------
      ts : time.struct_time
          Timestamp in local time

      Returns
      -------
      str
          A string representation of the timestamp in local time


   .. method:: strToTimestamp(self, time_str)

      Convert a date/time string into the integer value of the
      represented timestamp (in local time)

      Parameters
      ----------
      time_str : str
          Date/time in %m/%d/%Y[,%H:%M[:%S]] format

      Returns
      -------
      int
          The integer timestamp representation of the time string


   .. method:: sizeToStr(self, size, precision=1)

      Convert integer size of data sizes to human readable size string with
      metric units

      Parameters
      ----------
      size : int
          size of data file
      precision : int, optional. defaut = 1
          Precision of converted value

      Returns
      -------
      str
          The size as a string with byte units


   .. method:: _makeQueryString(self, id, text, meta, no_default, coll, proj)

      Compose query parameters into a query string

      Parameters
      ----------
      id : str
          portion of ID or alias of data of interest
      text : str
          plain text to search
      meta : str
          metadata search query in AQL format
      no_default : bool
          Whether or not to use default values
      coll : list of str
          IDs or aliases of the collections to search over
      proj : list of str
          IDs or aliases of the projects to search over

      Returns
      -------
      str
          Final search query


   .. method:: _uniquifyFilename(self, path)

      Ensures that the provided file name is unique by generating a new
      unique file name if the specified file name already exists.

      Parameters
      ----------
      path : str or Pathlib path
          path to file of interest

      Returns
      -------
      str
          Unique file path


   .. method:: _resolvePathForHTTP(self, path)

      Resolve relative local path

      Parameters
      ----------
      path : str
          User specified relative path

      Returns
      -------
      str
          Path ready for HTTP


   .. method:: _resolvePathForGlobus(self, path, must_exist)

      Resolve relative paths and prefix with current endpoint if needed

      Parameters
      ----------
      path : str
          file path
      must_exist : bool
          Whether or not the path must exist

      Returns
      -------
      str
          Path with globus endpoint UUID or alias prefixed.


   .. method:: _resolve_id(self, item_id, context=None)

      Resolve ID by prefixing relative aliases with current or specifies
      context

      Parameters
      ----------
      item_id : str
          ID of record, project, user or collection
      context : str, Optional. Default = None
          User ID or project ID to use for alias resolution.

      Returns
      -------
      str
          resolved ID


   .. method:: _setSaneDefaultOptions(self)

      Set any missing config options to sane defaults

      Returns
      -------
      opts : dict
          Automatically determined save configuration options



