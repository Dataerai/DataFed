# Configuration Reference

## Essential Configuration

You only need to configure these variables in your `.env` file:

### Required Settings

```bash
# Your server's public DNS hostname
GCS_HOSTNAME=gcs.example.com

# Your server's public IP address  
GCS_IP_ADDRESS=1.2.3.4

# Display name for your endpoint
GCS_ROOT_NAME=My Organization GCS

# Name for your collection
GCS_COLLECTION_NAME=My_Collection

# Path where data will be stored on the host
HOST_COLLECTION_PATH=/data/globus
```

### User Mapping

```bash
# Local user that will own files (must exist on host)
LOCAL_USER=globus

# UID of the local user (run: id -u username)
GCS_UID=1000
```

### Optional Settings

```bash
# Only if you have a Globus subscription
GLOBUS_SUBSCRIPTION_ID=your-subscription-id

# Your organization info (optional)
GCS_ORGANIZATION="Your Organization"
GCS_CONTACT_EMAIL=admin@example.org
```

**Note**: `GLOBUS_CLIENT_ID` and `GLOBUS_CLIENT_SECRET` are automatically generated by `./bin/init-credentials.sh` - do not set them manually.

## Quick Start

1. Copy the template: `cp .env.template .env`
2. Edit only the required settings above
3. Run `./bin/init-credentials.sh` to generate OAuth credentials
4. Build and start: `./bin/build.sh && docker compose up -d`

For most deployments, you don't need to configure anything else.

---

## Advanced Configuration

<details>
<summary>Click to expand advanced options</summary>

### Network Configuration

Default configuration works for most cases. Only change if you have specific requirements:

```bash
# Custom ports (defaults: 443, 50000-51000)
GCS_CONTROL_PORT=443
GCS_INCOMING_DATA_PORTS=50000-51000

# Behind NAT/firewall
GCS_DATA_IP_ADDRESS=data.ip.address  # If different from main IP
```

### SSL/TLS Certificates

By default, Let's Encrypt certificates are automatically managed. For custom certificates:

```bash
# Custom certificate paths
SSL_CERT_PATH=/opt/keys/custom.crt
SSL_KEY_PATH=/opt/keys/custom.key
```

See [SSL Configuration](https://docs.globus.org/globus-connect-server/v5/reference/endpoint/https-ssl/) for details.

### Authentication & Security

```bash
# Restrict to specific domains
GCS_ALLOWED_DOMAINS=example.org,university.edu

# Custom Globus native app (rare)
GLOBUS_NATIVE_APP_ID=your-custom-app-id
```

### Performance Tuning

For high-performance transfers, see [GridFTP Performance Guide](https://docs.globus.org/globus-connect-server/v5/gridftp-performance-guide/).

</details>

## Validation

Check your configuration:

```bash
# Verify environment
./bin/check-deps.sh

# Test configuration  
docker compose config

# After starting, run diagnostics
docker compose exec globus-connect-server \
    globus-connect-server self-diagnostic
```

## See Also

- [Environment Template](.env.template) - Full template with all options
- [Globus Connect Server Documentation](https://docs.globus.org/globus-connect-server/v5/)
- [Management Guide](management.md) - Day-to-day operations