#!/bin/bash
docker run \
--name "---AhqL52dtd8" \
--network host \
-e DATAFED_GLOBUS_APP_SECRET="" \
-e DATAFED_GLOBUS_APP_ID="" \
-e DATAFED_ZEROMQ_SESSION_SECRET="" \
-e DATAFED_ZEROMQ_SYSTEM_SECRET="" \
-e DATAFED_DOMAIN="" \
-e DATAFED_HTTPS_SERVER_PORT="443" \
-e DATAFED_DEFAULT_LOG_PATH="" \
-e DATAFED_CORE_ADDRESS_PORT_INTERNAL=":7513" \
-e DATAFED_GCS_ROOT_NAME="" \
-e DATAFED_GCS_COLLECTION_BASE_PATH="/mnt" \
-e DATAFED_GCS_COLLECTION_ROOT_PATH="/mnt/datafed" \
-e DATAFED_GLOBUS_SUBSCRIPTION="" \
-e DATAFED_GLOBUS_CONTROL_PORT="443" \
-e DATAFED_REPO_USER="datafed" \
-e DATAFED_AUTHZ_USER="datafed" \
-e UID="1000" \
-e BUILD_WITH_METADATA_SERVICES="FALSE" \
-e DATAFED_REPO_ID_AND_DIR="" \
-e DATAFED_GCS_IP="" \
-e DATAFED_REPO_DOMAIN="" \
-v ":/opt/datafed/globus" \
-v ":" \
-v ":/mnt/datafed" \
--entrypoint bash \
-t "//-:" \
-c 'cd /datafed/source; /opt/datafed/dependencies/bin/cmake --build build --target test'
